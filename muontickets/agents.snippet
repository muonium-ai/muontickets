## MuonTickets Agent Workflow

Use MuonTickets to coordinate work through ticket files in `tickets/`.

### Install mode (default)

- Default assumption: MuonTickets is installed as a submodule at `tickets/mt/muontickets`.
- Use direct-checkout commands (`python3 mt.py ...`) only when you are working inside the MuonTickets core repository itself.

Submodule install command:

```bash
curl -fsSL https://raw.githubusercontent.com/muonium-ai/muontickets/main/install.sh | bash
```

### Ticket states

- `ready` → not started
- `claimed` → currently being implemented
- `blocked` → waiting on dependency/input
- `needs_review` → implementation complete, awaiting review/merge
- `done` → merged and complete

### Standard loop

1. Pull latest changes.
2. Pick and claim one ticket.
3. Implement on the branch recorded in the ticket.
4. Add progress comments as you work.
5. Move to `needs_review` when coding is complete.
6. Run validation before commit/push.
7. After merge, mark ticket `done`.

### Commands (uv)

```bash
# Ensure board exists in submodule-based repos
uv run python3 tickets/mt/muontickets/muontickets/mt.py init

# Pick best available ticket for this agent
uv run python3 tickets/mt/muontickets/muontickets/mt.py pick --owner agent-1

# List my claimed tickets
uv run python3 tickets/mt/muontickets/muontickets/mt.py ls --status claimed --owner agent-1

# Add a progress update
uv run python3 tickets/mt/muontickets/muontickets/mt.py comment T-000001 "Implemented API and tests"

# Move ticket to review
uv run python3 tickets/mt/muontickets/muontickets/mt.py set-status T-000001 needs_review

# Validate board consistency
uv run python3 tickets/mt/muontickets/muontickets/mt.py validate

# After merge, mark complete
uv run python3 tickets/mt/muontickets/muontickets/mt.py done T-000001
```

Direct-checkout equivalent (MuonTickets core repo only):

```bash
uv run python3 mt.py pick --owner agent-1
uv run python3 mt.py validate
```

### Rules for agents

- Do not start work without claiming a ticket.
- Respect `depends_on`; do not bypass unless explicitly instructed.
- Keep ticket updates small, frequent, and deterministic.
- Always run validation before commit/push.
- Keep one active ticket at a time unless team policy allows higher WIP.

### Backlog shape (throughput-first)

- Avoid creating hundreds of micro-tickets; this usually hurts throughput.
- Too many tickets increase context switching, duplicate work, and stale status churn.
- Prefer a layered backlog:
	- a small set of epics,
	- each epic with a few implementation tickets,
	- optional checklist items inside each ticket.
- Keep only ~10–30 `ready` tickets active at a time.
- Park overflow work in a backlog/archive doc and promote items when capacity opens.
- Use strict ticket templates with required fields:
	- goal,
	- acceptance criteria,
	- dependencies,
	- test plan.
